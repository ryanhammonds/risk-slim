<html>
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css?family=Source%20Code%20Pro" rel="stylesheet">
<head><meta charset="utf-8" /></head>
<div id="report_header">
    <h3>RiskSLIM Report</h3>
</div>
<body>
    <div id="main_div">
        <script src="https://code.jquery.com/jquery-3.7.0.js"></script>
        <script src='https://cdn.plot.ly/plotly-2.20.0.min.js'></script>
    <div>                            <div id="4c2d548e-3b6f-49c9-8c70-b94625e6ea75" class="plotly-graph-div" style="height:600px; width:800px;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("4c2d548e-3b6f-49c9-8c70-b94625e6ea75")) {                    Plotly.newPlot(                        "4c2d548e-3b6f-49c9-8c70-b94625e6ea75",                        [{"cells":{"align":"left","values":[["Score","Risk"],["0","5.7%"],["1","26.9%"],["2","50.0%"],["3","73.1%"],["4","96.8%"]]},"header":{"height":0,"values":[""]},"type":"table","domain":{"x":[0.0,1.0],"y":[0.715,1.0]}},{"line":{"color":"black","width":2},"mode":"markers+lines","name":"Model","x":[5.697166995484701,26.894142136999495,50.0,73.10585786300051,96.7850880089784],"y":[0.7672634271099744,33.33333333333333,66.66666666666666,82.75862068965517,96.08938547486034],"type":"scattergl","xaxis":"x","yaxis":"y"},{"line":{"color":"black","dash":"dash","width":2},"mode":"lines","name":"Ideal","opacity":0.5,"x":[0.0,2.0408163265306123,4.081632653061225,6.122448979591837,8.16326530612245,10.204081632653061,12.244897959183675,14.285714285714286,16.3265306122449,18.367346938775512,20.408163265306122,22.448979591836736,24.48979591836735,26.53061224489796,28.571428571428573,30.612244897959183,32.6530612244898,34.69387755102041,36.734693877551024,38.775510204081634,40.816326530612244,42.85714285714286,44.89795918367347,46.93877551020408,48.9795918367347,51.02040816326531,53.06122448979592,55.10204081632653,57.142857142857146,59.183673469387756,61.224489795918366,63.26530612244898,65.3061224489796,67.34693877551021,69.38775510204081,71.42857142857143,73.46938775510205,75.51020408163265,77.55102040816327,79.59183673469389,81.63265306122449,83.6734693877551,85.71428571428572,87.75510204081633,89.79591836734694,91.83673469387756,93.87755102040816,95.91836734693878,97.9591836734694,100.0],"y":[0.0,2.0408163265306123,4.081632653061225,6.122448979591837,8.16326530612245,10.204081632653061,12.244897959183675,14.285714285714286,16.3265306122449,18.367346938775512,20.408163265306122,22.448979591836736,24.48979591836735,26.53061224489796,28.571428571428573,30.612244897959183,32.6530612244898,34.69387755102041,36.734693877551024,38.775510204081634,40.816326530612244,42.85714285714286,44.89795918367347,46.93877551020408,48.9795918367347,51.02040816326531,53.06122448979592,55.10204081632653,57.142857142857146,59.183673469387756,61.224489795918366,63.26530612244898,65.3061224489796,67.34693877551021,69.38775510204081,71.42857142857143,73.46938775510205,75.51020408163265,77.55102040816327,79.59183673469389,81.63265306122449,83.6734693877551,85.71428571428572,87.75510204081633,89.79591836734694,91.83673469387756,93.87755102040816,95.91836734693878,97.9591836734694,100.0],"type":"scattergl","xaxis":"x","yaxis":"y"},{"line":{"color":"black","width":2},"mode":"markers+lines","name":"ROC","x":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0045045045045045045,0.01126126126126126,0.015765765765765764,0.02702702702702703,0.05405405405405406,0.12612612612612611,0.240990990990991,1.0],"y":[0.0,0.03347280334728033,0.03765690376569038,0.0502092050209205,0.06694560669456066,0.09623430962343096,0.1297071129707113,0.17154811715481172,0.200836820083682,0.3389121338912134,0.39330543933054396,0.502092050209205,0.5899581589958159,0.7196652719665272,0.8200836820083682,0.9205020920502092,0.9874476987447699,0.9916317991631799,1.0],"type":"scattergl","xaxis":"x2","yaxis":"y2"},{"line":{"color":"black","dash":"dash","width":2},"mode":"lines","name":"Chance","opacity":0.5,"x":[0.0,0.02040816326530612,0.04081632653061224,0.061224489795918366,0.08163265306122448,0.1020408163265306,0.12244897959183673,0.14285714285714285,0.16326530612244897,0.18367346938775508,0.2040816326530612,0.22448979591836732,0.24489795918367346,0.26530612244897955,0.2857142857142857,0.3061224489795918,0.32653061224489793,0.3469387755102041,0.36734693877551017,0.3877551020408163,0.4081632653061224,0.42857142857142855,0.44897959183673464,0.4693877551020408,0.4897959183673469,0.5102040816326531,0.5306122448979591,0.5510204081632653,0.5714285714285714,0.5918367346938775,0.6122448979591836,0.6326530612244897,0.6530612244897959,0.673469387755102,0.6938775510204082,0.7142857142857142,0.7346938775510203,0.7551020408163265,0.7755102040816326,0.7959183673469387,0.8163265306122448,0.836734693877551,0.8571428571428571,0.8775510204081632,0.8979591836734693,0.9183673469387754,0.9387755102040816,0.9591836734693877,0.9795918367346939,1.0],"y":[0.0,0.02040816326530612,0.04081632653061224,0.061224489795918366,0.08163265306122448,0.1020408163265306,0.12244897959183673,0.14285714285714285,0.16326530612244897,0.18367346938775508,0.2040816326530612,0.22448979591836732,0.24489795918367346,0.26530612244897955,0.2857142857142857,0.3061224489795918,0.32653061224489793,0.3469387755102041,0.36734693877551017,0.3877551020408163,0.4081632653061224,0.42857142857142855,0.44897959183673464,0.4693877551020408,0.4897959183673469,0.5102040816326531,0.5306122448979591,0.5510204081632653,0.5714285714285714,0.5918367346938775,0.6122448979591836,0.6326530612244897,0.6530612244897959,0.673469387755102,0.6938775510204082,0.7142857142857142,0.7346938775510203,0.7551020408163265,0.7755102040816326,0.7959183673469387,0.8163265306122448,0.836734693877551,0.8571428571428571,0.8775510204081632,0.8979591836734693,0.9183673469387754,0.9387755102040816,0.9591836734693877,0.9795918367346939,1.0],"type":"scattergl","xaxis":"x2","yaxis":"y2"}],                        {"template":{"data":{"barpolar":[{"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"bar":[{"error_x":{"color":"rgb(36,36,36)"},"error_y":{"color":"rgb(36,36,36)"},"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"carpet":[{"aaxis":{"endlinecolor":"rgb(36,36,36)","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"rgb(36,36,36)"},"baxis":{"endlinecolor":"rgb(36,36,36)","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"rgb(36,36,36)"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"type":"choropleth"}],"contourcarpet":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"type":"contourcarpet"}],"contour":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"colorscale":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]],"type":"contour"}],"heatmapgl":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"colorscale":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]],"type":"heatmapgl"}],"heatmap":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"colorscale":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]],"type":"heatmap"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"colorscale":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]],"type":"histogram2dcontour"}],"histogram2d":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"colorscale":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]],"type":"histogram2d"}],"histogram":[{"marker":{"line":{"color":"white","width":0.6}},"type":"histogram"}],"mesh3d":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scattergeo"}],"scattergl":[{"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scattermapbox"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scatterpolargl"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scatterpolar"}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"colorscale":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"rgb(237,237,237)"},"line":{"color":"white"}},"header":{"fill":{"color":"rgb(217,217,217)"},"line":{"color":"white"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"colorscale":{"diverging":[[0.0,"rgb(103,0,31)"],[0.1,"rgb(178,24,43)"],[0.2,"rgb(214,96,77)"],[0.3,"rgb(244,165,130)"],[0.4,"rgb(253,219,199)"],[0.5,"rgb(247,247,247)"],[0.6,"rgb(209,229,240)"],[0.7,"rgb(146,197,222)"],[0.8,"rgb(67,147,195)"],[0.9,"rgb(33,102,172)"],[1.0,"rgb(5,48,97)"]],"sequential":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]],"sequentialminus":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]]},"colorway":["#1F77B4","#FF7F0E","#2CA02C","#D62728","#9467BD","#8C564B","#E377C2","#7F7F7F","#BCBD22","#17BECF"],"font":{"color":"rgb(36,36,36)"},"geo":{"bgcolor":"white","lakecolor":"white","landcolor":"white","showlakes":true,"showland":true,"subunitcolor":"white"},"hoverlabel":{"align":"left"},"hovermode":"closest","mapbox":{"style":"light"},"paper_bgcolor":"white","plot_bgcolor":"white","polar":{"angularaxis":{"gridcolor":"rgb(232,232,232)","linecolor":"rgb(36,36,36)","showgrid":false,"showline":true,"ticks":"outside"},"bgcolor":"white","radialaxis":{"gridcolor":"rgb(232,232,232)","linecolor":"rgb(36,36,36)","showgrid":false,"showline":true,"ticks":"outside"}},"scene":{"xaxis":{"backgroundcolor":"white","gridcolor":"rgb(232,232,232)","gridwidth":2,"linecolor":"rgb(36,36,36)","showbackground":true,"showgrid":false,"showline":true,"ticks":"outside","zeroline":false,"zerolinecolor":"rgb(36,36,36)"},"yaxis":{"backgroundcolor":"white","gridcolor":"rgb(232,232,232)","gridwidth":2,"linecolor":"rgb(36,36,36)","showbackground":true,"showgrid":false,"showline":true,"ticks":"outside","zeroline":false,"zerolinecolor":"rgb(36,36,36)"},"zaxis":{"backgroundcolor":"white","gridcolor":"rgb(232,232,232)","gridwidth":2,"linecolor":"rgb(36,36,36)","showbackground":true,"showgrid":false,"showline":true,"ticks":"outside","zeroline":false,"zerolinecolor":"rgb(36,36,36)"}},"shapedefaults":{"fillcolor":"black","line":{"width":0},"opacity":0.3},"ternary":{"aaxis":{"gridcolor":"rgb(232,232,232)","linecolor":"rgb(36,36,36)","showgrid":false,"showline":true,"ticks":"outside"},"baxis":{"gridcolor":"rgb(232,232,232)","linecolor":"rgb(36,36,36)","showgrid":false,"showline":true,"ticks":"outside"},"bgcolor":"white","caxis":{"gridcolor":"rgb(232,232,232)","linecolor":"rgb(36,36,36)","showgrid":false,"showline":true,"ticks":"outside"}},"title":{"x":0.05},"xaxis":{"automargin":true,"gridcolor":"rgb(232,232,232)","linecolor":"rgb(36,36,36)","showgrid":false,"showline":true,"ticks":"outside","title":{"standoff":15},"zeroline":false,"zerolinecolor":"rgb(36,36,36)"},"yaxis":{"automargin":true,"gridcolor":"rgb(232,232,232)","linecolor":"rgb(36,36,36)","showgrid":false,"showline":true,"ticks":"outside","title":{"standoff":15},"zeroline":false,"zerolinecolor":"rgb(36,36,36)"}}},"xaxis":{"anchor":"y","domain":[0.0,0.45],"tickmode":"array","tickvals":[0,20,40,60,80,100],"ticktext":["0%","20%","40%","60%","80%","100%"],"title":{"text":"Predicted Risk"}},"yaxis":{"anchor":"x","domain":[0.0,0.6649999999999999],"tickmode":"array","tickvals":[0,20,40,60,80,100],"ticktext":["0%","20%","40%","60%","80%","100%"],"title":{"text":"Observed Risk"}},"xaxis2":{"anchor":"y2","domain":[0.55,1.0],"range":[-0.05,1],"tickmode":"array","tickvals":[0.0,0.2,0.4,0.6000000000000001,0.8,1.0],"title":{"text":"False Positive Rate"}},"yaxis2":{"anchor":"x2","domain":[0.0,0.6649999999999999],"tickmode":"array","tickvals":[0.0,0.2,0.4,0.6000000000000001,0.8,1.0],"title":{"text":"True Positive Rate"}},"annotations":[{"font":{"size":16},"showarrow":false,"text":"Predicted Risk","x":0.5,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"},{"font":{"size":16},"showarrow":false,"text":"Calibration","x":0.225,"xanchor":"center","xref":"paper","y":0.6649999999999999,"yanchor":"bottom","yref":"paper"},{"font":{"size":16},"showarrow":false,"text":"ROC Curve","x":0.775,"xanchor":"center","xref":"paper","y":0.6649999999999999,"yanchor":"bottom","yref":"paper"}],"title":{"text":""},"autosize":false,"width":800,"height":600,"showlegend":false,"font":{"family":"Source Code Pro"}},                        {"responsive": true}                    )                };                            </script>        </div>
    </div>
</body>
</html>
<script>
    var variable_names = ["(Intercept)","UniformityOfCellShape","Mitoses",];
    var rho = [-5,1,1,];
    var min_values = [1,1,1,];
    var max_values = [1,10,10,];
    var variable_types = ["B","I","I","I","I","I","I","I","I","I",];
    // Adjust variables for table
    var _min_values = [];
    var _max_values = [];
    var _rho_str = [];
    var _names = [];
    var _var_types = [];
    for (i=1; i<rho.length; i++){
        if (rho[i] > 0){
            sign = "+";
            _rho = rho[i];
        } else {
            sign = "-";
            _rho = -(rho[i])
        }
        if (rho[i] > 1 || rho[i] < -1){
            pt = " points"
        } else {
            pt = " point"
        }
        _rho_str.push("" + sign + _rho + pt);
        _max_values.push(max_values[i]);
        _min_values.push(min_values[i]);
        _names.push(variable_names[i]);
        _var_types.push(variable_types[i])
    }
    var n_rows = rho.length-1;
    var table = document.createElement("TABLE");
    var dot = (a, b) => a.map((x, i) => a[i] * b[i]).reduce((m, n) => m + n);
    var last_divs = [];
    for(var i=0; i<n_rows; i++) {
        var row = table.insertRow(i);
        // First cell
        cell0 = row.insertCell(0);
        cell0.innerHTML = i+1 + ". ";
        cell0.innerHTML += _names[i];
        cell0.width = "60%";
        // Define input field
        if (_var_types[i] == "I" || _var_types == "C"){
            div = document.createElement("div");
            div.className = "quantity";
            var val_input = document.createElement("input");
            val_input.type = "number";
            val_input.defaultValue = _min_values[i];
            val_input.id = "input_" + i;
            val_input.min = _min_values[i];
            val_input.max = _max_values[i];
            val_input.style.width = "70px";
            val_input.class = "quantity";
            div.innerHTML += "";
            div.append(val_input);
            div.innerHTML += "    ×    ";
            div.innerHTML += "(" + _rho_str[i] + ")";
            div.innerHTML += " = " + _min_values[i] * rho[i+1]
        } else {
            div = document.createElement("div");
            div.className = "switch-parent";
            div_inner = document.createElement("div");
            div_inner.className = "switch";
            var val_input = document.createElement("input");
            val_input.type = "checkbox";
            val_input.id = "input_" + i;
            val_input.checked = false;
            val_input.class = "switch";
            var label = document.createElement("Label");
            label.htmlFor =  "input_" + i;
            label.innerHTML += "<span></span>";
            div_inner.innerHTML += "";
            div_inner.append(val_input);
            div_inner.append(label);
            div.append(div_inner)
            var text = document.createElement("div");
            text.className = "post-checkbox";
            text.innerHTML += "    ×    ";
            text.innerHTML += "(" + _rho_str[i] + ")";
            text.innerHTML += " = " + _min_values[i] * rho[i+1]
            div.append(text);
        }
        last_divs.push(div);
        // Insert input into table
        cell1 = row.insertCell(1)
        cell1.appendChild(div);
        if (i == n_rows-1){
            // Intercept row
            var row = table.insertRow(i+1);
            cell0 = row.insertCell(0);
            cell0.innerHTML = "Intercept";
            cell1 = row.insertCell(1);
            div = document.createElement("div");
            div.className = "quantity";
            var val_input = document.createElement("input");
            val_input.type = "number";
            val_input.defaultValue = rho[0];
            val_input.id = "input_" + i;
            val_input.style.width = "70px";
            val_input.class = "quantity";
            div.append(val_input);
            cell1.appendChild(div);
            // Score
            var row_score = table.insertRow(i+2);
            row_score0 = row_score.insertCell(0);
            row_score0.innerHTML = "SCORE";
            row_score1 = row_score.insertCell(1);
            inital_score = min_values.slice(1).reduce((a, b) => a + b, 0) + rho[0];
            row_score1.innerHTML = "" + inital_score
            ;
            // Risk
            var row_risk = table.insertRow(i+3);
            row_risk0 = row_risk.insertCell(0);
            row_risk0.innerHTML = "RISK";
            row_risk1 = row_risk.insertCell(1);
            score = -dot(min_values, rho)
            if (score > 0){
                risk = (1 / (1 + Math.exp(-score))).toFixed(1)
            } else {
                // Prevent overflow
                risk = (1 - (1 / (1 + Math.exp(score)))).toFixed(1)
            }
            row_risk1.innerHTML = "" + risk + "%";
        }
    }
    document.getElementById("main_div").prepend(table);
    // Jquery to update table
    var parse_input = function(n_rows) {
        $(':input').change(function () {
            var input_values = [1];
            var score = 0;
            for (i=0; i<n_rows; i++) {
                value = $("#input_" + i);
                if (value[0].class == "switch"){
                    // Binary variables
                    if (value[0].checked){
                        value = 1;
                    }
                    else {
                        value = 0;
                    }
                    input_values.push(value);
                } else {
                    // Integer or continuous variables
                    value = value.val();
                    // Enfore min/max constraint
                    if (value > _max_values[i]){
                        value = _max_values[i]
                        $("#input_" + i).val(value)
                    } else if (value < _min_values[i]){
                        value = _min_values[i]
                        $("#input_" + i).val(value)
                    }
                    input_values.push(value);
                }
                // Update score equals per row
                last_divs[i].lastChild.textContent = "";
                last_divs[i].lastChild.textContent += "    ×    ";
                last_divs[i].lastChild.textContent += "(" + _rho_str[i] + ")";
                last_divs[i].lastChild.textContent += " = " + value * rho[i+1]
            }
            rho[0] = val_input.value;
            score = dot(input_values, rho)
            row_score1.innerHTML = "" + score;
            if (score > 0){
                risk = (1 / (1 + Math.exp(-score)));
            } else {
                // Prevent overflow
                risk = (1 - (1 / (1 + Math.exp(score))));
            }
            risk = (risk * 100).toFixed(1);
            row_risk1.innerHTML = "" + risk + "%";
        });
    };
    parse_input(n_rows);
    // Custom increment buttons
    $(document).ready(function () {
    jQuery('<div class="quantity-nav"><button class="quantity-button quantity-up">&#xf106;</button><button class="quantity-button quantity-down">&#xf107</button></div>').insertAfter('.quantity input');
    jQuery('.quantity').each(function () {
        var spinner = jQuery(this),
            input = spinner.find('input[type="number"]'),
            btnUp = spinner.find('.quantity-up'),
            btnDown = spinner.find('.quantity-down'),
            min = input.attr('min'),
            max = input.attr('max');

        btnUp.click(function () {
        var oldValue = parseFloat(input.val());
        if (oldValue >= max) {
            var newVal = oldValue;
        } else {
            var newVal = oldValue + 1;
        }
        spinner.find("input").val(newVal);
        spinner.find("input").trigger("change");
        });

        btnDown.click(function () {
        var oldValue = parseFloat(input.val());
        if (oldValue <= min) {
            var newVal = oldValue;
        } else {
            var newVal = oldValue - 1;
        }
        spinner.find("input").val(newVal);
        spinner.find("input").trigger("change");
        });

    });
    });
</script>
<style>
    * {
        font-family: "Source Code Pro", "Open Sans", verdana, arial, sans-serif;
        /* direction: ltr;
        margin: 0px;
        padding: 0px; */
    }
    table {
        table-layout: fixed;
        font-family: "Source Code Pro", "Open Sans", verdana, arial, sans-serif;
        font-variant-numeric: tabular-nums;
        border-collapse: collapse;
        width: 800px;
        background-color: rgb(237, 237, 237);
    }
    td:hover {background-color: rgb(218, 218, 218);}
    td, th {
        text-align: left;
        padding: 5px;
        height: 40px;
    }
    tr:nth-child(1) {
        border-top: solid 2px black;
    }
    tr:last-child {
        border-bottom: solid 2px black;
    }
    tr:nth-last-child(3) {
        border-bottom: solid 2px black;
    }
    td:nth-child(1) {
        border-left: solid 2px black;
    }
    td:nth-last-child(1) {
        border-left: solid 2px black;
    }
    td:nth-child(2){
        border-right: solid 2px black;
    }
    tr:nth-last-child(1) td:nth-child(1){
        text-align: right;
        padding: 10px;
    }
    tr:nth-last-child(2) td:nth-child(1){
        text-align: right;
        padding: 10px;
    }
    h3{
        font-family: "Source Code Pro", "Open Sans", verdana, arial, sans-serif;
    }
    #main_div, #report_header {
        display: block;
        /* margin-left: auto; centers the div, but messes up viewing in jupyter*/
        margin-right: auto;
        width: 50%;
    }
    /* Style buttons */
    input[type=number]::-webkit-inner-spin-button,
    input[type=number]::-webkit-outer-spin-button {
        -webkit-appearance: none;
        margin: 0;
    }
    input[type=number] {
        -moz-appearance: textfield;
    }
    .quantity input {
        width: 37px;
        height: 28px;
        padding-left: 10px;
        border: none;
        box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.08);
        font-size: 1rem;
        border-radius: 2px;
    }
    .quantity-nav {
        float: right;
        position: relative;
        height: 28px;
        right: 75%;
    }
    .quantity-button {
        position: relative;
        cursor: pointer;
        border: none;
        border-left: 1px solid rgba(0, 0, 0, 0.08);
        width: 21px;
        text-align: center;
        color: #333;
        font-size: 13px;
        font-family: "FontAwesome" !important;
        background: #FAFAFA;
        -webkit-transform: translateX(-100%);
        transform: translateX(-100%);
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        -o-user-select: none;
        user-select: none;
    }
    .quantity-button:active {
        background: #EAEAEA;
    }
    .quantity-button.quantity-up {
        position: absolute;
        height: 50%;
        top: 0;
        border-bottom: 1px solid rgba(0, 0, 0, 0.08);
        font-family: "FontAwesome";
        border-radius: 0 4px 0 0;
    }
    .quantity-button.quantity-down {
        position: absolute;
        bottom: 0;
        height: 50%;
        font-family: "FontAwesome";
        border-radius: 0 0 4px 0;
    }
    .switch{
        position: absolute;
        width: 70px;
        height: 28px;
    }
    .switch input[type=checkbox]{
        position: absolute;
        -moz-opacity: 0;
        -khtml-opacity: 0;
        -webkit-opacity: 0;
        opacity: 0;
        -ms-filter: progid:DXImageTransform.Microsoft.Alpha(opacity=0);
        filter: alpha(opacity=0);
    }
    .switch label,
    .switch label span{
        position: absolute;
        left: 0;
        right: 0;
        top: 0;
        bottom: 0;
        transition-duration: .2s;
    }
    .switch label{
        border-radius: 8px;
        background-color: rgb(180, 180, 180);
    }
    .switch label:before,
    .switch label:after{
        position: absolute;
        top: 0;
        width: 35px;
        line-height: 28px;
        color: rgb(0, 0, 0);
        text-align: center;
    }
    .switch label span {
        z-index: 1;
        width: 35px;
        border-radius: 8px;
        background-color: rgb(218, 218, 218);
    }
    .switch label:before {
        left: 0;
        font-size: 10px;
        font-family: "Source Code Pro", "Open Sans", verdana, arial, sans-serif;
        content: "TRUE";
    }
    .switch label:after {
        right: 0;
        font-size: 10px;
        font-family: "Source Code Pro", "Open Sans", verdana, arial, sans-serif;
        content: "FALSE";
    }
    .switch input:checked+label {
        background-color: rgb(204, 204, 204);
    }
    .switch input:checked+label span {
        transform: translateX(36px);
    }
    .switch-parent{
        height: 40px;
        align-items: center;
        display: flex;
    }
    .post-checkbox{
        margin-left: 80px;
    }
</style>